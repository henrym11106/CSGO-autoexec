// TF2 config


// RE: LINUX: sensitivity is doubled in some old Valve games on Linux UNLESS this is added to launch options:
//  LD_PRELOAD="/usr/lib32/libSDL2-2.0.so.0" %command%  (this may also fix other input issues in those games)
// example: [ LD_PRELOAD="/usr/lib32/libSDL2-2.0.so.0" %command% -novid -console +exec cssexec.cfg ]
// if multiple commands are used, separate them with spaces befone one single %command%


unbindall // WARNING: put your normal binds and settings in an autoexec.cfg before running this!


// Aim
//
zoom_sensitivity_ratio 0.8
sensitivity 0.270 // 2000DPI for 77cm/360 (540eDPI) high DPI at low sens for fine, responsive aim input
m_rawinput "1"   // use half sens unless the %command% above is included at the start of your launch options
//m_pitch "0.022000" // sv_cheat protected?
m_yaw "0.022000"    // default is 0.022 degrees rotation per mouse input tick/dot/calculation
m_mouseaccel1 "0"
m_mouseaccel2 "0"



// Audio
//
dsp_slow_cpu 1 // "0" Disable in-game spatialization
snd_spatialize_roundrobin 1
dsp_enhance_stereo 0 // can be left on if it doesn't interfere with your perception of sfx
snd_pitchquality 1  // "1" Use high quality sounds
snd_mixahead 0.06  // latency/buffer. set too low and audio will distort, FPS sensitive


// Sound Compression - set Master Volume here.
// 0.110 results in a -24dB RMS SMG spray, volume x âˆš2 = 3dB louder
//
alias +shootvol "volume 0.110;+attack" // reduce master volume while spraying
alias -shootvol "volume 0.155;-attack" // normal master volume
bind "MOUSE1" "+shootvol"
bind "MOUSE2" "+attack2"
//
alias +walkvol "volume 0.238;+speed" // raise volume while walking
alias -walkvol "volume 0.155;-speed" // normal master volume
bind "SHIFT" "+walkvol"



// Video
//
//mat_software_aa_strength "0.000000"
//mat_software_aa_strength_vgui "1.000000"
mat_monitorgamma "1.800000"
mat_powersavingsmode "0"
mat_queue_mode "2" // CPU multithread
r_drawtracers_firstperson "0"
ragdoll_sleepaftertime 4.0
cl_ragdoll_fade_time 4
cl_phys_props_enable 0
cl_phys_props_max 0
props_break_max_pieces 0
violence_agibs 0
violence_hgibs 0
mat_phong 1 // ambient lighting
r_dynamic 0
tf_use_min_viewmodels 1 // smaller first-person viewmodels to improve visibility
cl_first_person_uses_world_model 0 // real first person
fps_max 444 // if FPS goes too high audio may distort from excessive low latency

cl_crosshair_scale "14.000000"
cl_crosshair_file "crosshair5"



// Quick Switch, use Primary weapon
//
alias +qsw1ch "slot3"
alias -qsw1ch "slot1"
bind "b" "+qsw1ch"
//bind "b" "slot1"
bind "MWHEELUP" "slot1"

// Quick Switch, use Secondary weapon
//
alias +qs2ch "slot3"
alias -qs2ch "slot2"
//bind "v" "+qs2ch"
bind "v" "slot2"

// Use Melee
//
bind n "slot3"
bind MOUSE3 "slot3"

bind HOME "slot4" // actually a side mouse button
bind g "slot5"
bind END "+voicerecord" // mic - actually a side mouse button
bind TAB "+showscores"

bind r "+use"
bind t "+reload"
bind y "taunt"


bind "F5" "jpeg" // Steam screenshot
//bind "F6"
bind "F7" "toggle cl_showfps 2 0" // toggle to show or hide max/min/average FPS display
bind "F12" "teammenu"
bind "`" "toggleconsole"
bind "=" "toggle cl_showpos 1 0"
bind "-" "toggle net_graph 1 0"
//bind "u" "toggle host_timescale 1 3 0.33"
bind "j" "noclip"
bind "\" "sv_cheats 1"


bind "1" "slot1"
bind "2" "slot2"
bind "3" "slot3"
bind "4" "slot4"
bind "5" "slot5"
bind "6" "slot6"
bind "7" "slot7"
bind "8" "slot8"
bind "9" "slot9"



// movement binds
// set either default or non-cancelling movement keys below
//
alias nil ""
alias chkf nil
alias chkb nil
alias chkl nil
alias chkr nil
alias +mfwd "-back;+forward;alias chkf +forward"
alias -mfwd "-forward;chkb;alias chkf nil"
alias +mback "-forward;+back;alias chkb +back"
alias -mback "-back;chkf;alias chkb nil"
alias +mleft "-moveright;+moveleft;alias chkl +moveleft"
alias -mleft "-moveleft;chkr;alias chkl nil"
alias +mright "-moveleft;+moveright;alias chkr +moveright"
alias -mright "-moveright;chkl;alias chkr nil"
//
//
// default movement input - comment these out if using non-cancelling "null" input
bind e "+forward"
bind d "+back"
// bind s "+moveleft"
// bind f "+moveright"
//
// non-cancelling input - comment out if using Default movement - using as of 2021-1-20, feels more natural
//bind e "+mfwd"
//bind d "+mback"
bind s "+mleft"
bind f "+mright"


// duckjump/longjump bind
//
alias pjdk "+duck"
alias mjdk "-duck"
alias +ljmp "+jump;pjdk;-forward;-mfwd"
alias -ljmp "-jump;mjdk"
alias +djmp "+jump;pjdk"
alias -djmp "-jump;mjdk"
alias "+jkey" "+djmp"
alias "-jkey" "-djmp"
alias +crouch "+duck;alias mjdk nil"
alias -crouch "-duck;alias mjdk -duck"
//
bind ctrl +crouch  // Duck key
bind lwin +crouch  // Duck key
//
//
// duckjump bind toggle - set Jump key (spacebar default)
//
alias "djoff" "bind space +jump;alias djbnd djon;offsnd"
alias "djon" "bind space +jkey;alias djbnd djoff;playvol buttons/lever7 .7"
alias "djbnd" "djoff"
bind "rshift" "djbnd"
djon  // duckjump on by default
//
// longjump bind toggle (automatically release +forward on jump)
//
alias "ljoff" "alias +jkey +djmp;alias ljbnd ljon;offsnd"
alias "ljon" "alias +jkey +ljmp;alias ljbnd ljoff;playvol buttons/lever1 .4"
alias "ljbnd" "ljon"
bind "enter" "ljbnd"
bind "MWHEELDOWN" "+jump" // Scroll jump/bhop



// Turn bind toggle - enable mouse button turn binds or regular mouse shoot
//
alias "turn" "bind mouse1 +left;bind mouse2 +right;alias tbind shoot"
alias "shoot" "bind mouse1 +shootvol;bind mouse2 +attack2;alias tbind turn"
alias "tbind" "turn"
bind "rctrl" "tbind"




// Network
//
cl_interp "0"
cl_interp_ratio "1"
//cl_lagcompensation 1
//cl_predict 1
//cl_predictweapons 1




// Misc
//
con_enable "1"
con_filter_enable 1
con_filter_text_out "Tried to FPrintf"
con_filter_text_out "Bad SetLocalAngles"
jpeg_quality 99
cl_showfps 0



host_writeconfig // write settings to config.cfg
echo ""
echo "tf2exec.cfg executed"
